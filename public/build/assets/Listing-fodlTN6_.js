import{r as j,W as u,j as e,q as k,Y as N}from"./app-D6eEK87w.js";import{G as y}from"./GuestLayout-Dqj9-rQf.js";import{C as v}from"./Card-CUwhti_5.js";import{C as f,S as g,P as C}from"./Sort-CDARw5MB.js";import"./index-BkGAKzec.js";import"./Logo-d5tY7MWq.js";import"./SearchForm-Dsv9Crfh.js";function _({manufacturers:r}){var x;const[m,t]=j.useState([]),{data:a,setData:l,get:p}=u({state:[],make:[],model:[],body_type:[],minYear:"",maxYear:"",price:"",mileage:"",fuel_type:[],doors:[],transmission:[],cylinders:[]}),d=new Date().getFullYear(),h=s=>{s.preventDefault(),p("/listing")},i=s=>{const c=s.target.value,o=s.target.name;if(s.target.checked)switch(o==="make"&&c in r&&(l("make",[...a.make,c]),t([...m,...r[c]])),o){case"model":l("model",[...a.model,c]);break;case"body_type":l("body_type",[...a.body_type,c]);break;case"fuel_type":l("fuel_type",[...a.fuel_type,c]);break;case"doors":l("doors",[...a.doors,c]);break;case"transmission":l("transmission",[...a.transmission,c]);break;case"cylinders":l("cylinders",[...a.cylinders,c]);break;case"state":l("state",[...a.state,c]);break}else{if(o==="make"&&c in r){const n=m.filter(b=>!r[c].includes(b));t(n),l("make",a.make.filter(b=>b!==c))}switch(o){case"model":l("model",a.model.filter(n=>n!==c));break;case"body_type":l("body_type",a.body_type.filter(n=>n!==c));break;case"fuel_type":l("fuel_type",a.fuel_type.filter(n=>n!==c));break;case"doors":l("doors",a.doors.filter(n=>n!==c));break;case"transmission":l("transmission",a.transmission.filter(n=>n!==c));break;case"cylinders":l("cylinders",a.cylinders.filter(n=>n!==c));break;case"state":l("state",a.state.filter(n=>n!==c));break}}};return e.jsx("aside",{className:"w-1/5 p-4 rounded-lg hidden md:block",children:e.jsxs("form",{onSubmit:h,children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Filters"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"State"}),e.jsxs("div",{className:"pl-1",children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"state",value:"New",type:"checkbox",className:"mr-2"})," New"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"state",value:"Used",type:"checkbox",className:"mr-2"})," Used"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Make"}),e.jsx("div",{className:"h-[300px] pl-1 overflow-y-scroll",children:(x=Object.keys(r))==null?void 0:x.map(s=>e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"make",value:s,type:"checkbox",className:"mr-2"}),s]},s))})]}),m.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Model"}),e.jsx("div",{className:"h-[150px] pl-1 overflow-y-scroll",children:m==null?void 0:m.map(s=>e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"model",value:s,type:"checkbox",className:"mr-2"}),s]},s))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Body Type"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"body_type",value:"Sedan",type:"checkbox",className:"mr-2"})," Sedan"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"body_type",value:"SUV",type:"checkbox",className:"mr-2"})," SUV"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"body_type",value:"Truck",type:"checkbox",className:"mr-2"})," Truck"]})]})]}),e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Year"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block",children:"From"}),e.jsx("input",{onChange:s=>l("minYear",s.target.value),value:a.minYear,min:"1980",max:d,type:"number",placeholder:"min. 1980",className:"border rounded-lg p-1 w-full"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"block",children:"To"}),e.jsx("input",{onChange:s=>l("maxYear",s.target.value),value:a.maxYear,min:"1980",max:d,type:"number",placeholder:`max. ${d}`,className:"border rounded-lg p-1 w-full"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Price"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:s=>l("price",s.target.value),type:"radio",name:"price",value:"5000-10000",className:"mr-2"})," $ 5000 - $ 10,000"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:s=>l("price",s.target.value),type:"radio",name:"price",value:"10001-20000",className:"mr-2"})," $ 10,001 - $ 20,000"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:s=>l("price",s.target.value),type:"radio",name:"price",value:"20001-30000",className:"mr-2"})," $ 20,001 - $ 30,000"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:s=>l("price",s.target.value),type:"radio",name:"price",value:"30001-50000",className:"mr-2"})," $ 30,001 - $ 50,000"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:s=>l("price",s.target.value),type:"radio",name:"price",value:"50000-50000000000",className:"mr-2"})," Over $ 50,000"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Mileage"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:s=>l("mileage",s.target.value),type:"radio",name:"mileage",value:"0-10000",className:"mr-2"})," 0 - 10,000 miles"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:s=>l("mileage",s.target.value),type:"radio",name:"mileage",value:"10001-50000",className:"mr-2"})," 10,001 - 50,000 miles"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:s=>l("mileage",s.target.value),type:"radio",name:"mileage",value:"50001-100000",className:"mr-2"})," 50,001 - 100,000 miles"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Fuel Type"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"fuel_type",value:"Gasoline",type:"checkbox",className:"mr-2"})," Gasoline"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"fuel_type",value:"Diesel",type:"checkbox",className:"mr-2"})," Diesel"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"fuel_type",value:"Electric",type:"checkbox",className:"mr-2"})," Electric"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Doors"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"doors",value:"2",type:"checkbox",className:"mr-2"})," 2"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"doors",value:"4",type:"checkbox",className:"mr-2"})," 4"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"doors",value:"6",type:"checkbox",className:"mr-2"})," 6"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Transmission"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"transmission",value:"Automatic",type:"checkbox",className:"mr-2"})," Automatic"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"transmission",value:"Manual",type:"checkbox",className:"mr-2"})," Manual"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Cylinders"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"cylinders",value:"4",type:"checkbox",className:"mr-2"})," 4"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"cylinders",value:"6",type:"checkbox",className:"mr-2"})," 6"]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{onClick:i,name:"cylinders",value:"8",type:"checkbox",className:"mr-2"})," 8"]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("button",{type:"submit",className:"bg-gray-700 border-gray-700 w-full font-bold text-white ml-1 py-2 px-4 rounded-lg hover:bg-white border-2 hover:border-primary hover:text-primary transition duration-300",children:"Filter"})})]})})}function w(){var m,t;const{cars:r}=k().props;return e.jsxs("section",{className:"w-full px-2 md:px-4 mx-auto",children:[e.jsxs("div",{className:"flex justify-between py-2 gap-2 mb-3",children:[e.jsx(f,{data:r}),e.jsx(g,{})]}),e.jsx("div",{className:"mb-8 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4",children:(m=r==null?void 0:r.data)==null?void 0:m.map(a=>e.jsx(v,{car:a},a.id))}),((t=r==null?void 0:r.data)==null?void 0:t.length)==0?e.jsx("p",{className:"p-8 mt-8 text-center font-bold text-2xl text-gray-600",children:"No data found."}):e.jsx(C,{links:r.links})]})}function E({cars:r,manufacturers:m}){return e.jsxs(y,{children:[e.jsx(N,{title:"Car deals"}),e.jsxs("div",{className:"py-5 flex",children:[e.jsx(_,{manufacturers:m}),e.jsx(w,{cars:r})]})]})}export{E as default};
